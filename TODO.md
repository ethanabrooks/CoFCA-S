* get gates synced up
* implement complex conditionals
* somehow deal with nondeterminism of convolutions
* get auxiliary loss working?